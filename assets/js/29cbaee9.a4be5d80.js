"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1947],{9332:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>i,default:()=>l,frontMatter:()=>c,metadata:()=>d,toc:()=>a});var s=t(4848),o=t(8453);const c={sidebar_position:4},i="1.4 UseEffect hook",d={id:"frontend/checkpoint4",title:"1.4 UseEffect hook",description:"The useEffect hook is an example of a lifecycle method which can get called at different stages of a component's existence. Lifecycle methods allow you to run code at specific times, such as when a component is first mounted, updated, or unmounted.",source:"@site/docs/frontend/checkpoint4.md",sourceDirName:"frontend",slug:"/frontend/checkpoint4",permalink:"/geekout-2024/docs/frontend/checkpoint4",draft:!1,unlisted:!1,editUrl:"https://github.com/seanjin97/geekout-2024/tree/master/docs/docs/frontend/checkpoint4.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"1.3 Hooks and state",permalink:"/geekout-2024/docs/frontend/checkpoint3"},next:{title:"1.5 Challenge/Bonus",permalink:"/geekout-2024/docs/frontend/challenge"}},r={},a=[{value:"useEffect syntax",id:"useeffect-syntax",level:3},{value:"Examples",id:"examples",level:3},{value:"Why use useEffect?",id:"why-use-useeffect",level:3},{value:"Setup",id:"setup",level:3},{value:"Exercise 4A",id:"exercise-4a",level:3},{value:"Exercise 4B",id:"exercise-4b",level:3}];function h(e){const n={code:"code",h1:"h1",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"14-useeffect-hook",children:"1.4 UseEffect hook"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"useEffect"})," hook is an example of a ",(0,s.jsx)(n.strong,{children:"lifecycle"})," method which can get called at different stages of a component's existence. Lifecycle methods allow you to run code at specific times, such as when a component is first mounted, updated, or unmounted."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"useEffect"})," hook is a function that lets you perform ",(0,s.jsx)(n.strong,{children:"side effects"})," in your React components. Side effects are operations or tasks that occur in your component that are not directly related to rendering the UI. We perform a side effect when we need to reach outside of our React component to do something. Examples of side effects: data fetching, setting timers, interacting with the DOM, logging to console, etc."]}),"\n",(0,s.jsx)(n.h3,{id:"useeffect-syntax",children:"useEffect syntax"}),"\n",(0,s.jsxs)(n.p,{children:["In the function ",(0,s.jsx)(n.code,{children:"() => { ... }"})," that is the first argument to ",(0,s.jsx)(n.code,{children:"useEffect"}),", we define the code that will run when the side-effect is triggered. In the array ",(0,s.jsx)(n.code,{children:"[]"}),", we declare dependencies and which will decide when useEffect() should execute."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"useEffect(( ) => { \u2026 }, []);\n"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Empty dependency array: runs only once when the component is first mounted (i.e., when it appears on the screen). Use this pattern for side effects that should only happen once, such as fetching initial data from an API."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"useEffect(( ) => { \u2026 }, []);\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Non-empty dependency array: runs when the component mounts and also whenever any of the dependencies listed in the array change. In this example, ",(0,s.jsx)(n.code,{children:"done"})," is the dependency. Use this pattern when your side effect depends on specific state or props. For instance, you might want to fetch data or perform an action whenever the ",(0,s.jsx)(n.code,{children:"done"})," state changes."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"useEffect(( ) => { \u2026 }, [done]);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.p,{children:'This logs "Component mounted" to the console only once when the component is first rendered.'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'useEffect(() => {\n  console.log("Component mounted");\n}, []);\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This logs the current value of ",(0,s.jsx)(n.code,{children:"done"})," to the console whenever ",(0,s.jsx)(n.code,{children:"done"})," changes. If ",(0,s.jsx)(n.code,{children:"done"})," is updated (e.g., ",(0,s.jsx)(n.code,{children:"setDone(true)"}),"), the effect runs again."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"const [done, setDone] = useState(false);\n\nuseEffect(() => {\n  console.log('Effect triggered because \"done\" changed:', done);\n}, [done]);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"why-use-useeffect",children:"Why use useEffect?"}),"\n",(0,s.jsx)(n.p,{children:"Avoiding Infinite Loops:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Without useEffect, side effects could be triggered on every render, which can lead to infinite loops or excessive resource consumption."}),"\n",(0,s.jsx)(n.li,{children:"useEffect() allows you to specify dependencies, and the effect will only run when those dependencies change, helping you control when and how often a side effect occurs."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Handling Asynchronous Operations:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Many side effects involve asynchronous operations, such as fetching data from an API."}),"\n",(0,s.jsx)(n.li,{children:"You can use async/await within useEffect() to handle asynchronous code more cleanly."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,s.jsxs)(n.p,{children:["Run ",(0,s.jsx)(n.code,{children:"git checkout checkpoint-4"})]}),"\n",(0,s.jsx)(n.h3,{id:"exercise-4a",children:"Exercise 4A"}),"\n",(0,s.jsxs)(n.p,{children:["Let's try to understand how ",(0,s.jsx)(n.code,{children:"useEffect"})," is used in our Todo application."]}),"\n",(0,s.jsx)(n.h3,{id:"exercise-4b",children:"Exercise 4B"}),"\n",(0,s.jsxs)(n.p,{children:["Let's add a second ",(0,s.jsx)(n.code,{children:"useEffect"})," hook to ensure that the ",(0,s.jsx)(n.code,{children:"Save Task"})," button gets disabled when the task description it exceeds 30 characters."]})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>d});var s=t(6540);const o={},c=s.createContext(o);function i(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);